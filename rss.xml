<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Jonathan Jauhari]]></title><description><![CDATA[Jonathan Jauhari]]></description><link>https://jonjau.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Fri, 22 Jan 2021 01:55:31 GMT</lastBuildDate><item><title><![CDATA[Making English More Regular With Esperanto Grammar]]></title><description><![CDATA[Some problems As a learner of English (who isn’t?), I’ve come across a lot of inconsistent
rules and exceptions in the language, and I can…]]></description><link>https://jonjau.github.io/making-english-more-regular-with-esperanto-grammar/</link><guid isPermaLink="false">https://jonjau.github.io/making-english-more-regular-with-esperanto-grammar/</guid><pubDate>Sun, 27 Dec 2020 07:34:18 GMT</pubDate><content:encoded>&lt;h2&gt;Some problems&lt;/h2&gt;
&lt;p&gt;As a learner of English (who isn’t?), I’ve come across a lot of inconsistent
rules and exceptions in the language, and I can imagine they exist in most
other natural languages. People just (have to) get used to them. In general:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Grammar is complex (13+ tenses!) and verb modification is irregular.&lt;/li&gt;
&lt;li&gt;Ambiguous semantics: the same sentence can mean different things.&lt;/li&gt;
&lt;li&gt;Spelling does not reflect pronunciation; accents vary wildly.&lt;/li&gt;
&lt;li&gt;Vocabulary is vast and borrows from many other languages.&lt;/li&gt;
&lt;li&gt;Spoken vs written disconnect: slang, idioms, figures of speech.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;What can be done to improve it? I’m not sure, but there have been
&lt;a href=&quot;https://en.wikipedia.org/wiki/Learning_English_(version_of_English)&quot;&gt;been&lt;/a&gt;
&lt;a href=&quot;https://en.wikipedia.org/wiki/Basic_English&quot;&gt;many&lt;/a&gt;
&lt;a href=&quot;https://en.wikipedia.org/wiki/Simple_English_Wikipedia&quot;&gt;efforts&lt;/a&gt;, mainly
by simplifying sentence structure and restricting vocabulary.&lt;/p&gt;
&lt;p&gt;Of course, there’s no changing the way English is spoken in the
mainstream, but ideas are ideas, so here’s one.&lt;/p&gt;
&lt;p&gt;Designing a new language from the ground up is hard, so in any case
vocabulary should be kept constant (if not restricted to simpler words). This
means points 3, 4, 5 are off-limits, there is no way to improve on those
without modifying English words or how they are spelled
(&lt;a href=&quot;https://jonjau.github.io/projects/cifero/&quot;&gt;related&lt;/a&gt;). So, grammar has to
change.&lt;/p&gt;
&lt;p&gt;I’ve been thinking about how Esperanto
&lt;a href=&quot;https://lernu.net/en/gramatiko&quot;&gt;grammar constructs&lt;/a&gt; (the few that I know)
can be used to make English and similar languages to be more regular. This
should address point 1 and, to a certain extent, point 2 as well. Specifically,
this post explores that in the context of ambiguity in sentences, which is
apparently
&lt;a href=&quot;https://michealaxelsen.com/blog/?p=346&quot;&gt;an inherent property of all natural languages&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Grammar simplification&lt;/h3&gt;
&lt;p&gt;All we’re taking from Esperanto are the suffixes and sentence structure.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;left&quot;&gt;Suffix&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;-o&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;noun&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;-a&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;adjective&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;-e&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;adverb&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The immediate problem are the words themselves. Most English words have
meaning baked into their “root words”, like ‘often’ or ‘again’; modifying
them with suffixes leads to non-obvious interpretations (‘again-o’: what would
‘again’ mean as a noun?) and should be avoided, but what if someone does it
anyway? Exceptions regarding special word forms will have to remain.&lt;/p&gt;
&lt;p&gt;A good practice might be to avoid special words and phrases altogether, and
stick with simple suffix-friendly words, say ‘frequent-e’ to mean
‘frequently’ instead of ‘often’. I don’t know how ‘again’ could be avoided,
it might have to be an exception.&lt;/p&gt;
&lt;p&gt;The verb suffix system for Esperanto is
&lt;a href=&quot;http://esperanto.davidgsimpson.com/eo-verbforms.html&quot;&gt;well-defined&lt;/a&gt;:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;left&quot;&gt;Suffix&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;Meaning&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;Example&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;Interpretation&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;-as&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;present&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I do-as&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I do&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;-is&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;past&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I do-is&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I did&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;-os&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;future&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I do-os&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I will do&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;-u&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;imperative&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;do-u it-n!&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;do it!&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;-us&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;conditional&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I do-us&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I would do&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;-i&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;infinitive&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;do-i it&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;to do it&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;More complex verb suffixes (maybe unnecessary):&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;left&quot;&gt;Suffix&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;Meaning&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;Example&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;Interpretation&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;-anta&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;present active&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I be-as do-anta&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I am doing&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;-inta&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;perfect active&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I be-as do-inta&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I have done&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;-onta&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;future active&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I be-as do-onta&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I am about to do&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;-ata&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;present passive&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I be-as do-ata&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I am being done&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;-ita&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;perfect passive&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I be-as do-ita&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I have been done&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;-ota&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;future passive&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I be-as do-ota&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;I am about to be done&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;Going further&lt;/h3&gt;
&lt;p&gt;But what if we wanted to extend verbs such that they could be nouns,
adjectives or adverbs?&lt;/p&gt;
&lt;p&gt;Consider &lt;code&gt;&apos;repeat-e&apos;&lt;/code&gt;. It means ‘repeat’, as an adverb. But how exactly should
it be interpreted?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Repetitively&lt;/li&gt;
&lt;li&gt;Repeatedly&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Both are adverbs and they overlap in meaning — maybe they should not be
different words in the first place. But the rule was to not modify English
words more than necessary. Trying to get at meaning 1 leads to another issue:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;repetition-e&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;repetitive-e&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;repetitively-e&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Which one is correct? Perhaps all of them, although 3 is redundant. We see
mixing English suffixes and (abused) Esperanto suffixes leads to even more
choice.&lt;/p&gt;
&lt;p&gt;So, abusing Esperanto’s suffix system, words can become verbs, adjectives or
adverbs, as appropriate. Let’s say prepositions (over, on, at), articles (a,
the), conjunctions (and, or) are not changed.&lt;/p&gt;
&lt;p&gt;In this system, the words to
which we attach suffixes are the English words, and those words don’t have to
be actual root words. It’s not always possible and might lead to ambiguity
(e.g. &lt;code&gt;&apos;repeat-e&apos;&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Here’s how the system might be used to disambiguate some sentences:&lt;/p&gt;
&lt;h3&gt;Syntactic ambiguity&lt;/h3&gt;
&lt;p&gt;Also known as structural ambiguity or grammatical ambiguity. This is when
the structure of the sentence makes its meaning unclear.&lt;/p&gt;
&lt;p&gt;A popular example is:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;I saw a man on a hill with a telescope.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;There are several interpretations:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The hill has a telescope.&lt;/li&gt;
&lt;li&gt;The man has a telescope.&lt;/li&gt;
&lt;li&gt;I used a telescope to see the man.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The sentence might be disambiguated by context, or a change in sentence
structure:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1. I saw a man on a hill, which had a telescope.
2. I saw a man, who had a telescope, on a hill.
3. I saw, using a telescope, a man on a hill.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If it were “I saw a man with a woman with a telescope”, disambiguation
would be much more difficult. In speech, emphasis and pauses could be used.&lt;/p&gt;
&lt;p&gt;A possible translation:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1. I see-is man-on on have-telescope-a hill-o.
2. I see-is have-telescope-a man-on on hill-o.
3. I use-telescope-e see-is man-on on hill-o.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;the article ‘a’ is dropped.&lt;/li&gt;
&lt;li&gt;-o marks a noun.&lt;/li&gt;
&lt;li&gt;-on marks a noun that is the direct object of the verb
(here the man is the object of seeing, ‘so man-on’).&lt;/li&gt;
&lt;li&gt;-is turns a verb into past tense.&lt;/li&gt;
&lt;li&gt;-e marks an adverb.&lt;/li&gt;
&lt;li&gt;-a marks an adjective.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;But using -e and -a to mark adverbial and adjectival clauses is probably not
a good idea, since they might get more complex. What if instead of ‘have
telescope’ we had ‘had one telescope and now have two’? More extensible but
less natural would be:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1. I see-is man-on on hill-o which have-as telescope-on.
2. I see-is man-on who have-as telescope-on on hill-o.
3. I see-is use-ante telescope-on man-on on hill-o.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;-ant- marks continuity, and again, -e makes an adverb so ‘use-ante
telescope-on’ is an adverbial clause that would describe an action as ‘using
a telescope’, in this case the action is ‘seeing’.&lt;/li&gt;
&lt;li&gt;-as turns a verb into present tense.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Lexical ambiguity 1&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;She went to the bank.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;What bank? Merriam-Webster lists
&lt;a href=&quot;https://www.merriam-webster.com/dictionary/bank&quot;&gt;5 entries&lt;/a&gt; for ‘bank’, but
the sentence structure rules out the verb definitions. Also, the 5th definition
(‘a group or series of objects arranged together in a row’) seems quire rare.
Here ‘bank’ is either:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;the bank of a river&lt;/li&gt;
&lt;li&gt;the bank to deposit your money in&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Further context is needed, and often it is available. There is no good way to
deal with this without adding an extra clause.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1. She go-is to the-bank-o of the-river-o.
2. She go-is to the-bank-o for store-i money-o.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;-i makes a verb infinitive: ‘store-i money-o’ is ‘to store money’.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Lexical ambiguity 2&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;I like understanding people.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This time the sentence structure doesn’t help us, and the ambiguity arises
from the fact that ‘understanding’ can be a verb or an adjective:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;I like people who are understanding.&lt;/li&gt;
&lt;li&gt;I like to understand people.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Disambiguation by inventing new English words (this is irregular, and not always
possible):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1. I like understanders.
2. I like people-understanding.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Esperanto grammar is particularly well-suited for this. Changing the suffix
changes the role of the word.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1. I like-as understand-ajn person-ojn.
2. I like-as understand-i person-ojn.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In the first sentence:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;-j, pronounced like ‘y’, marks plurality: ‘people’ becomes ‘person-oj’, then
it becomes ‘person-ojn’ because it is the direct object of ‘like’.&lt;/li&gt;
&lt;li&gt;The adjective ‘understand-a’ describes ‘person-ojn’, so the former follows the
latter’s suffixes: ‘understand-ajn’.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In the second sentence:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;-i marks an infinitive: ‘understand-i’ is ‘to understand’.&lt;/li&gt;
&lt;li&gt;‘understand-i person-ojn’ means ‘people-understanding’ as a noun, it is the
direct object of ‘like’, so there is an -n.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Morphological ambiguity&lt;/h3&gt;
&lt;p&gt;Somewhat related to lexical ambiguity is morphological ambiguity, which (as I
understand) is when adding prefixes and suffixes leads to (further) ambiguity.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;This shoe is untieable.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Interpretations:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;This shoe can be untied.&lt;/li&gt;
&lt;li&gt;This shoe cannot be tied.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;With punctuation (different emphasis in speech):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1. This shoe is untie-able.
2. This shoe is un-tieable.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With Esperanto grammar:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1. This-shoe-o can-as be-i not-tie-ita.
2. This-shoe-o not-can-as be-i tie-ita.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;not- negates&lt;/li&gt;
&lt;li&gt;‘can’ is considered a verb&lt;/li&gt;
&lt;li&gt;-ita means ‘has been done’: ‘tie-ita’ means ‘tied’ as in the adjective
(note it ends with -a), e.g. tied shoes.&lt;/li&gt;
&lt;li&gt;‘be-i tie-ita’ means ‘to be tied’&lt;/li&gt;
&lt;li&gt;‘can-as be-i tie-ita’ means ‘be able to be tied’&lt;/li&gt;
&lt;li&gt;‘can-as be-i not-tie-ita’ means ‘be able to be not tied’&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;The “comma problem”&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;I invited my parents, Jack and Jill to the party.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Interpretations:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Two people are invited: my parents who are named Jack and Jill.&lt;/li&gt;
&lt;li&gt;Four people are invited: Jack, Jill and my parents.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Changing the sentence structure, and punctuation can disambiguate:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1. I invited my parents, Jack, and Jill to the party.
   I invited Jack, Jill, and my parents to the party.

2. I invited my parents (Jack and Jill) to the party.
   I invited to the party, my parents: Jack and Jill.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Esperanto grammar (as well as more regular punctuation):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1. I invite-is I-an parent-ojn, Jack-on, and Jill-on to the-party-o.
2. I invite-is I-an parent-ojn who name-as Jack and Jill to the-party-o.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;‘I’ becomes ‘my’ by adding -a.&lt;/li&gt;
&lt;li&gt;Since ‘my parents’ is a direct object we also add -n, so ‘I-an parent-ojn’.&lt;/li&gt;
&lt;li&gt;I’m not sure if Jack and Jill need -o’s in the second sentence.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;The “it problem”&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;The dog furiously chased the cat until it suddenly fell.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;What is ‘it’ referring to?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The dog chased the cat until the cat fell.&lt;/li&gt;
&lt;li&gt;The dog chased the cat until the dog fell.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I can’t think of a way to disambiguate this while keeping the ‘it’.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1. The-dog-o fury-e chase-is the-cat-on until the-cat-o sudden-e fall-is.
2. The-dog-o fury-e chase-is the-cat-on until the-dog-o sudden-e fall-is.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Sample translation&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://omniglot.com/language/articles/englishlearningchallenges.htm&quot;&gt;Source&lt;/a&gt;.
With slight alterations:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;English grammar is complex, making it difficult to remember, master and use
logically. Ensuring you use the correct grammar can be tricky, especially
when you are in conversation with someone and they are speaking at an
alarmingly fast pace. Learning grammar is like learning to drive, you can
learn all of the theory, rules and regulations, but you won&amp;#39;t be good at it
unless you practice it and it starts to become second nature to you. Grammar
is extremely important, incorrect use of grammar can confuse the person you
are speaking to and even change the meaning of what you are communicating,
what&amp;#39;s more is native English speakers are hyper-aware of grammar and will
notice almost immediately if a grammatical error is made, even if this is
the smallest of errors. Don&amp;#39;t get me started on accents...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Esperanto grammar (kind of):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;English-a grammar-o be-as complex-a, such-that difficult-as remember-i,
master-i and use-i logic-e it-n. Ensure-i that you use-as correct-a
grammar-o can-as be-i trick-a, special-e when you converse-as with
person-o and they speak-as at alarm-e fast-a pace-o. Learn-i grammar-on
be-as like learn-i drive-i, you can-as learn-i all the theory-ojn,
rule-ojn, regulation-ojn, but you not good-os at it unless you
practice-as it-n and it start-as become-i second-a nature-o to you.
Grammar-o be-is extreme-e important-a, not-correct-a use-o of grammar-o
can-as confuse-i the person-on whom you speak-as, and even change-as the
meaning-on of what you communicate-as, more-e, native-a English-a
speaker-oj hyper-e aware-as of grammar-o and notice-os almost immediate-e
if grammar-a error-o make-itas, even if this be-as the most small
error-o. Not start-u I-n on accent-oj...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Most of this is probably inaccurate, but it is interesting still.&lt;/p&gt;
&lt;h3&gt;Conclusion&lt;/h3&gt;
&lt;p&gt;Clearly, mixing Esperanto grammar and English vocabulary leads to language
that is unpleasant and difficult to read, speak, write or listen to. I would
say this is mostly due to the heavy use of ’-’ (maybe apostrophes would have
been better) and the difference in the pronunciation systems — more
irregularity in English.&lt;/p&gt;
&lt;p&gt;Perhaps a system similar to this may be useful in informal human-readable
&lt;a href=&quot;https://en.wikipedia.org/wiki/Part-of-speech_tagging&quot;&gt;speech tagging&lt;/a&gt;, to
disambiguate speech, or more generally, help separate
grammar from vocabulary (I have not looked into that).&lt;/p&gt;</content:encoded></item><item><title><![CDATA[The Visitor Pattern for Simple Collision Handling]]></title><description><![CDATA[Let’s say we were building a system where components can interact with other
components, and based on the combination of components, some…]]></description><link>https://jonjau.github.io/the-visitor-pattern-for-simple-collision-handling/</link><guid isPermaLink="false">https://jonjau.github.io/the-visitor-pattern-for-simple-collision-handling/</guid><pubDate>Fri, 20 Nov 2020 00:23:15 GMT</pubDate><content:encoded>&lt;p&gt;Let’s say we were building a system where components can interact with other
components, and based on the combination of components, some behaviour is to
be expected. We must also assume the handled interactions are only between
pairs.&lt;/p&gt;
&lt;p&gt;A classic example is a pairwise collision system:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Adventurers and beasts are creatures.&lt;/li&gt;
&lt;li&gt;Adventurers are either knights or archers.&lt;/li&gt;
&lt;li&gt;Beasts are either werewolves or (flying) dragons.&lt;/li&gt;
&lt;li&gt;When adventurers and beasts collide, they fight.&lt;/li&gt;
&lt;li&gt;The way a fight goes is decided by the kind of the adventurer, as well as the
kind of the beast, e.g. archers shoot dragons, punch werewolves, and
werewolves disarm knights.&lt;/li&gt;
&lt;li&gt;Knights are particularly polite — when a pair of knights meet, they loudly
greet each other.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We see that we can have well-defined adventurer-beast collisions and
possibly a knight-knight collision too. To start off, the collision handling
system shouldn’t need to know the class hierarchy and how each
creature behaves when it hits another, it just needs them to &lt;em&gt;do what they do&lt;/em&gt;.
A simple system might look like this, free of &lt;code&gt;instanceof&lt;/code&gt; checks:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Game&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; cs&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// called every turn / game tick&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handleCollisions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; c1 &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; cs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; colliding &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; c1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getColliding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; c2 &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; colliding&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                c1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;The alternative&lt;/h2&gt;
&lt;p&gt;In abbreviated Java, an initial design might be:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getColliding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/*...*/&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Adventurer&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Knight&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Adventurer&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Knight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;greet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Knight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Werewolf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;slash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Werewolf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Dragon&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;taunt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Dragon&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Archer&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Adventurer&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Werewolf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;punch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Werewolf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Dragon&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;shoot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Dragon&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Beast&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Dragon&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Beast&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Knight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;immolate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Knight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Archer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;immolate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Archer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Werewolf&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Beast&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Knight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;disarm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Knight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Archer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;charge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Archer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;All we’ve really done is push back the &lt;code&gt;instanceof&lt;/code&gt; checks into each
method’s implementation. This works.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Adding new behaviour for existing classes means adding an extra
&lt;code&gt;instanceof&lt;/code&gt; check.&lt;/li&gt;
&lt;li&gt;Adding a new kind of &lt;code&gt;Creature&lt;/code&gt; will not affect existing classes. If they
don’t interact with the new kind of &lt;code&gt;Creature&lt;/code&gt;, they simply don’t have
to handle it in the if-else chain.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note that we will have as many &lt;code&gt;instanceof&lt;/code&gt; checks as the number of
well-defined interactions. Also note that what we’ve done here, is pretty
much &lt;a href=&quot;https://docs.microsoft.com/en-us/dotnet/csharp/pattern-matching&quot;&gt;pattern matching&lt;/a&gt;,
just a lot uglier. Apparently more recent Java versions have
&lt;a href=&quot;https://cr.openjdk.java.net/~briangoetz/amber/pattern-match.html&quot;&gt;improved on that&lt;/a&gt;.
That being said, this alternative &lt;code&gt;instanceof&lt;/code&gt; approach doesn’t really have
a name, and I’m not sure if fits among the usual over-abstracted Java code.&lt;/p&gt;
&lt;h2&gt;Multiple dispatch&lt;/h2&gt;
&lt;p&gt;It does seem like we’re sidestepping the type system. In each &lt;code&gt;collide&lt;/code&gt;
definition, we’re lying about what we actually require. Knowing that we are
colliding with a &lt;code&gt;Creature&lt;/code&gt; is not enough, we need more specific type
information, and yet this isn’t reflected in the function signatures. Though
it’s not clear how it would be!&lt;/p&gt;
&lt;p&gt;What we want is &lt;a href=&quot;https://stackoverflow.com/questions/1749534/multiple-dispatch-in-c&quot;&gt;multiple dispatch&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The concrete function that is called from a function call can depend on the
dynamic (runtime) type of more than one of its arguments.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Note that the object-oriented &lt;code&gt;a.collide(b)&lt;/code&gt; is really just &lt;code&gt;collide(a,b)&lt;/code&gt;,
where the objects &lt;code&gt;a&lt;/code&gt;, &lt;code&gt;b&lt;/code&gt; are arguments and &lt;code&gt;a&lt;/code&gt; gets special treatment.&lt;/p&gt;
&lt;p&gt;The issue is, Java, like C++, Python, and many other languages, only supports
&lt;a href=&quot;https://en.wikipedia.org/wiki/Dynamic_dispatch#Single_and_multiple_dispatch&quot;&gt;single dispatch&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The concrete function that is called from a function call depends on the
dynamic (meaning runtime) type of a single object, the &lt;em&gt;receiver&lt;/em&gt;, which is
&lt;code&gt;a&lt;/code&gt; in &lt;code&gt;a.collide(b)&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;To illustrate:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Archer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; w &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Werewolf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Archer.collide(Creature) is called&lt;/span&gt;
w&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Werewolf.collide(Creature) is called&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;The visitor pattern&lt;/h2&gt;
&lt;p&gt;There is no way to achieve &lt;code&gt;Archer.collide(Werewolf)&lt;/code&gt; or
&lt;code&gt;Werewolf.collide(Archer)&lt;/code&gt; when both &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;w&lt;/code&gt; are &lt;code&gt;Creature&lt;/code&gt; references,
without an extra layer of indirection. It is not enough to know the
concrete type of the “collider” — the “thing being hit” should also tell its
concrete type to the “collider”. The latter should occur before the former:
it doesn’t make sense to introduce yourself to someone after they’ve done
something special for you — they need to know who you are to act accordingly.
This is exactly the &lt;a href=&quot;https://www.tutorialspoint.com/design_pattern/visitor_pattern.htm&quot;&gt;visitor pattern&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// we know &apos;w&apos; is a Werewolf, &apos;w&apos; accepts &apos;a&apos; by calling &apos;a.visit(this)&apos;&lt;/span&gt;
w&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// now we also know &apos;a&apos; is an Archer, so &apos;a&apos; shoots &apos;w&apos;.&lt;/span&gt;
a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;visit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// similarly for werewolves colliding with archers.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In our case, &lt;code&gt;Creature&lt;/code&gt;s are both visitors and things to be visited, where
“visit” is understood as “collide”.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// things that can collide with creatures should implement (part of) this&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CreatureVisitor&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Knight&lt;/span&gt; k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Archer&lt;/span&gt; k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Werewolf&lt;/span&gt; w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Dragon&lt;/span&gt; d&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CreatureVisitor&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getColliding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/*...*/&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// all creatures must &quot;introduce themselves&quot; to things colliding into them&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CreatureVisitor&lt;/span&gt; visitor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Adventurer&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Knight&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Adventurer&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CreatureVisitor&lt;/span&gt; visitor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; visitor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Knight&lt;/span&gt; k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;greet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Werewolf&lt;/span&gt; w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;slash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Dragon&lt;/span&gt; d&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;taunt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Archer&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Adventurer&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CreatureVisitor&lt;/span&gt; visitor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; visitor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Werewolf&lt;/span&gt; w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;punch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Dragon&lt;/span&gt; d&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;shoot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Beast&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Dragon&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Beast&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CreatureVisitor&lt;/span&gt; visitor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; visitor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Knight&lt;/span&gt; k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;immolate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Archer&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;immolate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Werewolf&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Beast&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CreatureVisitor&lt;/span&gt; visitor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; visitor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Knight&lt;/span&gt; k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;disarm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Archer&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;charge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It ends up being just as verbose, but indeed it leans upon Java’s (nominal)
type system a bit more. The calling code will also have to change slightly,
instead of calling &lt;code&gt;collide&lt;/code&gt; directly, we instead “accept” collisions:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Game&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; cs&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handleCollisions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; c1 &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; cs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; colliding &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; c1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getColliding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Creature&lt;/span&gt; c2 &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; colliding&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                c2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This also works.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Adding new behaviour for existing classes means changing the implementation
of a &lt;code&gt;collide&lt;/code&gt; method.&lt;/li&gt;
&lt;li&gt;Adding a new kind of Creature will not affect existing classes. If they
aren’t concerned about the new kind of Creature, they simply don’t have to
implement a &lt;code&gt;collide(NewCreatureType x)&lt;/code&gt;. Though that method will have to
be added to the &lt;code&gt;CreatureVisitor&lt;/code&gt; interface as a default, empty method.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The duplication of &lt;code&gt;collide&lt;/code&gt; in &lt;code&gt;CreatureVisitor&lt;/code&gt; might be something that can
improved on, but I’m not sure. The use of &lt;code&gt;default&lt;/code&gt; might also be less than
ideal, for instance if each class in the hierarchy only implements 1 or 2 out
of 10+ methods in the interface. But that would probably be an issue of the
design of the hierarchy itself.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://ericlippert.com/2015/04/27/wizards-and-warriors-part-one/&quot;&gt;Here&lt;/a&gt;
is a more in-depth exploration of alternatives to the visitor pattern. It’s
particularly interesting as C# does have language support for multiple
dispatch, through the &lt;code&gt;dynamic&lt;/code&gt; keyword.&lt;/p&gt;
&lt;h2&gt;Code dump&lt;/h2&gt;
&lt;p&gt;To save space, I wrote the testing code in Kotlin:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; CreatureVisitor &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Knight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Archer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Werewolf&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Dragon&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; Creature &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; CreatureVisitor &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getColliding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; List&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Creature&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;TODO&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;visitor&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; CreatureVisitor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; Adventurer &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Creature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; Knight &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Adventurer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;visitor&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; CreatureVisitor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; visitor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Knight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;greet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Dragon&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;taunt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Werewolf&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;slash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;greet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Knight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Hail!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;taunt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Dragon&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(knight hits dragon)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;slash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Werewolf&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(knight slashes werewolf)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; Archer &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Adventurer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;visitor&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; CreatureVisitor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; visitor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Werewolf&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;punch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Dragon&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;shoot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;shoot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Dragon&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(archer shoots dragon)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;punch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Werewolf&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(archer punches werewolf)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; Beast &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Creature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; Dragon &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Beast&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;visitor&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; CreatureVisitor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; visitor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Knight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;immolate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Archer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;immolate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;immolate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;adv&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Adventurer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(dragon immolates adventurer)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; Werewolf &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Beast&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;visitor&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; CreatureVisitor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; visitor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Knight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;disarm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;collide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Archer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;charge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;disarm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Knight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(werewolf disarms knight)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;charge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Archer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(werewolf charges archer)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; k1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Knight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; k2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Knight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Archer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; d &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Dragon&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; w &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Werewolf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; cs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;listOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; k2&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; d&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c1 &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; cs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// hardcoded: assume every creature is colliding with everything else&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; colliding &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; it &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; c1 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c2 &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; colliding&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            c2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The output:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;_&quot;&gt;&lt;pre class=&quot;language-_&quot;&gt;&lt;code class=&quot;language-_&quot;&gt;Hail!
(knight hits dragon)
(knight slashes werewolf)
Hail!
(knight hits dragon)
(knight slashes werewolf)
(archer shoots dragon)
(archer punches werewolf)
(dragon immolates adventurer)
(dragon immolates adventurer)
(dragon immolates adventurer)
(werewolf disarms knight)
(werewolf disarms knight)
(werewolf charges archer)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Portvis]]></title><description><![CDATA[Github A full-stack web application that allows users to visualise and compare
historical returns of US stock portfolios, built with Spring…]]></description><link>https://jonjau.github.io/portvis/</link><guid isPermaLink="false">https://jonjau.github.io/portvis/</guid><pubDate>Sat, 31 Oct 2020 11:53:12 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/jonjau/portvis&quot;&gt;Github&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A full-stack web application that allows users to visualise and compare
historical returns of US stock portfolios, built with Spring Boot and React.&lt;/p&gt;
&lt;p&gt;I have yet to deploy this to a live website. It’s a good idea to have TLS
enabled beforehand, to say the least. But working with the bare compute units
offered by AWS’s free tier really makes this harder than it needs to be.&lt;/p&gt;
&lt;p&gt;Low-res demo:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/v2/6168a07416ca0628a78db360a317b1f8/demo.gif&quot; alt=&quot;Demo GIF&quot;&gt;&lt;/p&gt;
&lt;h2&gt;Screenshots&lt;/h2&gt;
&lt;p&gt;Pages in order — login, portfolios, backtest, stocks, account, about:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/v2/static/d98d859f8cabfdbc6e89634591beb415/cb704/login.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGt+BZSR//EABoQAAICAwAAAAAAAAAAAAAAAAADAQISICH/2gAIAQEAAQUCXVcmCCe6f//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAABEiAx/9oACAEBAAY/AnM2v//EABwQAAMAAQUAAAAAAAAAAAAAAAABESEQUWFxgf/aAAgBAQABPyHNM2FwvRE1eeyl0//aAAwDAQACAAMAAAAQu+//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAACAwEBAAAAAAAAAAAAAAABEQAhUUHx/9oACAEBAAE/EKQKqU95GWKjR8QhAD2xjaY2mM6Z/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Screenshot of login page&quot;
        title=&quot;Screenshot of login page&quot;
        src=&quot;/v2/static/d98d859f8cabfdbc6e89634591beb415/828fb/login.jpg&quot;
        srcset=&quot;/v2/static/d98d859f8cabfdbc6e89634591beb415/ff44c/login.jpg 158w,
/v2/static/d98d859f8cabfdbc6e89634591beb415/a6688/login.jpg 315w,
/v2/static/d98d859f8cabfdbc6e89634591beb415/828fb/login.jpg 630w,
/v2/static/d98d859f8cabfdbc6e89634591beb415/0ede0/login.jpg 945w,
/v2/static/d98d859f8cabfdbc6e89634591beb415/3ac88/login.jpg 1260w,
/v2/static/d98d859f8cabfdbc6e89634591beb415/cb704/login.jpg 1897w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/v2/static/af98a7f3b5e406c39d3bd950064f6f74/4e564/portfolios.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAACA//EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAFzCvTF0l//xAAbEAABBAMAAAAAAAAAAAAAAAACAAEDEgQQMv/aAAgBAQABBQKCrjQVQXWJzr//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAABBAMAAAAAAAAAAAAAAAABAAIykRARcf/aAAgBAQAGPwI7aKUW0ohHuf/EABkQAQADAQEAAAAAAAAAAAAAAAEAESEgYf/aAAgBAQABPyErZWdSoFVqvpw3/9oADAMBAAIAAwAAABD/AA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPxBn/8QAHhABAAICAQUAAAAAAAAAAAAAAQARMUEQIVFhgbH/2gAIAQEAAT8QaQaTo7e4Kht4XPMEBWAbzT5ADBXH/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Screenshot of portfolios page&quot;
        title=&quot;Screenshot of portfolios page&quot;
        src=&quot;/v2/static/af98a7f3b5e406c39d3bd950064f6f74/828fb/portfolios.jpg&quot;
        srcset=&quot;/v2/static/af98a7f3b5e406c39d3bd950064f6f74/ff44c/portfolios.jpg 158w,
/v2/static/af98a7f3b5e406c39d3bd950064f6f74/a6688/portfolios.jpg 315w,
/v2/static/af98a7f3b5e406c39d3bd950064f6f74/828fb/portfolios.jpg 630w,
/v2/static/af98a7f3b5e406c39d3bd950064f6f74/0ede0/portfolios.jpg 945w,
/v2/static/af98a7f3b5e406c39d3bd950064f6f74/3ac88/portfolios.jpg 1260w,
/v2/static/af98a7f3b5e406c39d3bd950064f6f74/4e564/portfolios.jpg 1900w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/v2/static/08231e89976d0a62bb69f319b497c0dc/4e564/backtest.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMFAgT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABbS4KqZGC/wD/xAAdEAABAgcAAAAAAAAAAAAAAAABAgQAAxAREiIy/9oACAEBAAEFAmu0woF8EmG3Yp//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAeEAABAwQDAAAAAAAAAAAAAAACAAEREBIiMlFxkf/aAAgBAQAGPwJ7hGI4WICtW8T9V//EABkQAQEBAAMAAAAAAAAAAAAAAAERACBhkf/aAAgBAQABPyGhM6GgesmUVV4Mf//aAAwDAQACAAMAAAAQ7M//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPxAn/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8QZ//EAB0QAQACAQUBAAAAAAAAAAAAAAEAESEQQVFhobH/2gAIAQEAAT8QFzjTmsgVSDa2jO2J3RBKz1fpE2Z0/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Screenshot of backtest page&quot;
        title=&quot;Screenshot of backtest page&quot;
        src=&quot;/v2/static/08231e89976d0a62bb69f319b497c0dc/828fb/backtest.jpg&quot;
        srcset=&quot;/v2/static/08231e89976d0a62bb69f319b497c0dc/ff44c/backtest.jpg 158w,
/v2/static/08231e89976d0a62bb69f319b497c0dc/a6688/backtest.jpg 315w,
/v2/static/08231e89976d0a62bb69f319b497c0dc/828fb/backtest.jpg 630w,
/v2/static/08231e89976d0a62bb69f319b497c0dc/0ede0/backtest.jpg 945w,
/v2/static/08231e89976d0a62bb69f319b497c0dc/3ac88/backtest.jpg 1260w,
/v2/static/08231e89976d0a62bb69f319b497c0dc/4e564/backtest.jpg 1900w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/v2/static/c91c1ee2274e06b4fe2a2685a03354bc/4e564/stocks.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.632911392405056%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABfapbTDJK/8QAGhAAAgIDAAAAAAAAAAAAAAAAAQMAMwIEEv/aAAgBAQABBQJGAK+BHW61Udb/AP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABsQAAIBBQAAAAAAAAAAAAAAAAACEQEQMoGR/9oACAEBAAY/ApihivBjdmP/xAAbEAEAAgIDAAAAAAAAAAAAAAABABARMSGhsf/aAAgBAQABPyE4ncuysA5g3PVXbn//2gAMAwEAAgADAAAAEC/v/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAAICAwEAAAAAAAAAAAAAAQARQWEQITHw/9oACAEBAAE/EKuILFzAGwEzWOtCV7NTy4Ph1P/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Screenshot of stocks page&quot;
        title=&quot;Screenshot of stocks page&quot;
        src=&quot;/v2/static/c91c1ee2274e06b4fe2a2685a03354bc/828fb/stocks.jpg&quot;
        srcset=&quot;/v2/static/c91c1ee2274e06b4fe2a2685a03354bc/ff44c/stocks.jpg 158w,
/v2/static/c91c1ee2274e06b4fe2a2685a03354bc/a6688/stocks.jpg 315w,
/v2/static/c91c1ee2274e06b4fe2a2685a03354bc/828fb/stocks.jpg 630w,
/v2/static/c91c1ee2274e06b4fe2a2685a03354bc/0ede0/stocks.jpg 945w,
/v2/static/c91c1ee2274e06b4fe2a2685a03354bc/3ac88/stocks.jpg 1260w,
/v2/static/c91c1ee2274e06b4fe2a2685a03354bc/4e564/stocks.jpg 1900w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/v2/static/f68ee8c2d005aea030af6e22406b20aa/6d14c/account.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABfbobTEJK/8QAGxAAAQQDAAAAAAAAAAAAAAAAAwACBDMBEiH/2gAIAQEAAQUCjsbkejUfpY1SNb//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAACAQUAAAAAAAAAAAAAAAAAAQIQITKBkf/aAAgBAQAGPwK6RiuDN0kf/8QAHRAAAgIBBQAAAAAAAAAAAAAAAAERIRAxQVGhsf/aAAgBAQABPyFKbTl7EfOFVPSj0Y7Z/9oADAMBAAIAAwAAABCsL//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/EGf/xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhMRBBYfD/2gAIAQEAAT8QCqCyGFZwuwkwRuis3RNfB9vhP//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Screenshot of account page&quot;
        title=&quot;Screenshot of account page&quot;
        src=&quot;/v2/static/f68ee8c2d005aea030af6e22406b20aa/828fb/account.jpg&quot;
        srcset=&quot;/v2/static/f68ee8c2d005aea030af6e22406b20aa/ff44c/account.jpg 158w,
/v2/static/f68ee8c2d005aea030af6e22406b20aa/a6688/account.jpg 315w,
/v2/static/f68ee8c2d005aea030af6e22406b20aa/828fb/account.jpg 630w,
/v2/static/f68ee8c2d005aea030af6e22406b20aa/0ede0/account.jpg 945w,
/v2/static/f68ee8c2d005aea030af6e22406b20aa/3ac88/account.jpg 1260w,
/v2/static/f68ee8c2d005aea030af6e22406b20aa/6d14c/account.jpg 1898w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/v2/static/f25ca7a9595df7927d3ec46134d82aed/6d14c/about.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQCAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABfbobTDJFf//EABsQAAEFAQEAAAAAAAAAAAAAAAIAAQMEMxIj/9oACAEBAAEFAq4C8fAKZvWtkptf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGxAAAgEFAAAAAAAAAAAAAAAAAAIBECEygZH/2gAIAQEABj8CusGMcGN0Y//EABwQAAICAgMAAAAAAAAAAAAAAAABETEQQaGx8f/aAAgBAQABPyGQsOXo8sKqVnYxyz//2gAMAwEAAgADAAAAEK8v/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHRABAAIBBQEAAAAAAAAAAAAAAQARYRAhMUHh8P/aAAgBAQABPxA/QlaWBNlp34RN7VTcwTj0PtwT/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Screenshot of about page&quot;
        title=&quot;Screenshot of about page&quot;
        src=&quot;/v2/static/f25ca7a9595df7927d3ec46134d82aed/828fb/about.jpg&quot;
        srcset=&quot;/v2/static/f25ca7a9595df7927d3ec46134d82aed/ff44c/about.jpg 158w,
/v2/static/f25ca7a9595df7927d3ec46134d82aed/a6688/about.jpg 315w,
/v2/static/f25ca7a9595df7927d3ec46134d82aed/828fb/about.jpg 630w,
/v2/static/f25ca7a9595df7927d3ec46134d82aed/0ede0/about.jpg 945w,
/v2/static/f25ca7a9595df7927d3ec46134d82aed/3ac88/about.jpg 1260w,
/v2/static/f25ca7a9595df7927d3ec46134d82aed/6d14c/about.jpg 1898w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[A Sudoku Solver in 15 Lines of Prolog]]></title><description><![CDATA[The title says it all. I came across this Prolog code in a lecture recently,
and it seems to come from here. If this
isn’t peak abstraction…]]></description><link>https://jonjau.github.io/a-sudoku-solver-in-15-lines-of-prolog/</link><guid isPermaLink="false">https://jonjau.github.io/a-sudoku-solver-in-15-lines-of-prolog/</guid><pubDate>Mon, 26 Oct 2020 07:22:55 GMT</pubDate><content:encoded>&lt;p&gt;The title says it all. I came across this Prolog code in a lecture recently,
and it seems to come from &lt;a href=&quot;https://www.metalevel.at/sudoku/&quot;&gt;here&lt;/a&gt;. If this
isn’t peak abstraction, I don’t know what is.&lt;/p&gt;
&lt;p&gt;Honestly though, can anyone even claim this is computer code? Seems to me like
a line-by-line translation from the rules of Sudoku &lt;em&gt;that actually runs&lt;/em&gt; (!!).&lt;/p&gt;
&lt;p&gt;I’ve added some annotations below — it really is just precise, plain, English.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;prolog&quot;&gt;&lt;pre class=&quot;language-prolog&quot;&gt;&lt;code class=&quot;language-prolog&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;:-&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;use_module&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;clpfd&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt;                          &lt;span class=&quot;token comment&quot;&gt;%*&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;sudoku&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;Rows&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:-&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;Rows&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;maplist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;same_length&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;Rows&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;Rows&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;%1&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;Rows&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;Vs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;Vs&lt;/span&gt; ins &lt;span class=&quot;token number&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;                      &lt;span class=&quot;token comment&quot;&gt;%2&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;maplist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;all_distinct&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;Rows&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;                        &lt;span class=&quot;token comment&quot;&gt;%3&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;transpose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;Rows&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;Columns&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;                           &lt;span class=&quot;token comment&quot;&gt;%4&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;maplist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;all_distinct&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;Columns&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;                     &lt;span class=&quot;token comment&quot;&gt;%5&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;Rows&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;G&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;H&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;G&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;H&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;%6&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;Bs1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;Bs2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;G&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;H&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;Bs3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:-&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;%7&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;all_distinct&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;G&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;H&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;blocks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;Bs1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;Bs2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;Bs3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;* This is the secret sauce:
&lt;a href=&quot;http://pathwayslms.com/swipltuts/clpfd/clpfd.html&quot;&gt;Constraint Logic Programming over Finite Domains&lt;/a&gt;,
which is as far as I know, needed for the &lt;code&gt;Vs ins 1..9&lt;/code&gt; bit.&lt;/p&gt;
&lt;p&gt;A list of lists &lt;code&gt;Rows&lt;/code&gt; is a solved Sudoku puzzle when all of these statements
hold:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;There are 9 rows, each row is 9 elements long, i.e. the board is square.&lt;/li&gt;
&lt;li&gt;The concatenation of the rows (that is, the entire board) only contains
numbers 1 to 9.&lt;/li&gt;
&lt;li&gt;In each row the values contained are distinct.&lt;/li&gt;
&lt;li&gt;Columns are the rows of the board transposed.&lt;/li&gt;
&lt;li&gt;In each column the values contained are distinct.&lt;/li&gt;
&lt;li&gt;Letting the rows from the first to the ninth be named A to I,
Rows A,B,C, and D,E,F, and G,H,I form “blocks”.&lt;/li&gt;
&lt;li&gt;Three rows form “blocks” if the first three values from each of the three
rows (a 3x3 on the board) altogether contain only distinct values, and
that this is true for the following group of three values. Three empty rows
are considered to form “blocks”.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If only project specifications in the real world were as precise as
logic puzzles!&lt;/p&gt;
&lt;p&gt;Essentially, you define what makes a solution a solution, and Prolog
(at least, in the interactive &lt;code&gt;swipl&lt;/code&gt; prompt) will:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If given a complete solution, verify that it truly is a solution
(outputting true if so, false otherwise).&lt;/li&gt;
&lt;li&gt;If given a partial solution, try different
variable bindings to make it a correct solution (outputting each set of
such bindings).
If it fails in doing so, it spits out false.&lt;/li&gt;
&lt;li&gt;If given nothing i.e. an unbound variable, binds that variable to all the
possible completed Sudoku puzzles (maybe not in the way you expect,
&lt;code&gt;swipl&lt;/code&gt; showed them “bound” in terms of variables, not numbers).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Running the code&lt;/h2&gt;
&lt;p&gt;Sure enough it actually runs. In a vanilla
&lt;a href=&quot;https://www.swi-prolog.org/&quot;&gt;SWI-Prolog&lt;/a&gt; session:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;_&quot;&gt;&lt;pre class=&quot;language-_&quot;&gt;&lt;code class=&quot;language-_&quot;&gt;(manually formatted swipl output)

?- Puzzle=[[5,3,_, _,7,_, _,_,_],
|          [6,_,_, 1,9,5, _,_,_],
|          [_,9,8, _,_,_, _,6,_],
|
|          [8,_,_, _,6,_, _,_,3],
|          [4,_,_, 8,_,3, _,_,1],
|          [7,_,_, _,2,_, _,_,6],
|
|          [_,6,_, _,_,_, 2,8,_],
|          [_,_,_, 4,1,9, _,_,5],
|          [_,_,_, _,8,_, _,7,9]],
|    sudoku(Puzzle),
|    write(Puzzle).
[[5,3,4, 6,7,8, 9,1,2],
 [6,7,2, 1,9,5, 3,4,8],
 [1,9,8, 3,4,2, 5,6,7],

 [8,5,9, 7,6,1, 4,2,3],
 [4,2,6, 8,5,3, 7,9,1],
 [7,1,3, 9,2,4, 8,5,6],

 [9,6,1, 5,3,7, 2,8,4],
 [2,8,7, 4,1,9, 6,3,5],
 [3,4,5, 2,8,6, 1,7,9]]
Puzzle=(omitted)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Monads, Applicatives, and Functors in Haskell]]></title><description><![CDATA[This is my summary of Chapter 11 and 12 of
Learn You a Haskell for Great Good!,
a great introduction to functional programming and Haskell…]]></description><link>https://jonjau.github.io/monads-applicatives-and-functors-in-haskell/</link><guid isPermaLink="false">https://jonjau.github.io/monads-applicatives-and-functors-in-haskell/</guid><pubDate>Wed, 07 Oct 2020 11:31:10 GMT</pubDate><content:encoded>&lt;p&gt;This is my summary of Chapter 11 and 12 of
&lt;a href=&quot;http://learnyouahaskell.com/chapters&quot;&gt;Learn You a Haskell for Great Good!&lt;/a&gt;,
a great introduction to functional programming and Haskell. I’ve found its
explanation of monads, by far the most notorious of category theory jargon
(monoids and functors being runner-ups), to be about as intuitive as monad
explanations can get.&lt;/p&gt;
&lt;p&gt;This is hardly comprehensive, but these notes touch on most of the main
concepts of the Haskell type system (that I’m aware of…).&lt;/p&gt;
&lt;h2&gt;Values&lt;/h2&gt;
&lt;p&gt;Values have types. Types can be inferred:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token char string&quot;&gt;&apos;f&apos;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;-- x has (inferred) type Char&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token char string&quot;&gt;&apos;f&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token char string&quot;&gt;&apos;g&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;-- y has (inferred) type [Char], a list of Char&apos;s&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Use &lt;code&gt;:t&lt;/code&gt; in &lt;a href=&quot;https://docs.haskellstack.org/en/stable/ghci/&quot;&gt;GHCi&lt;/a&gt;
to check the type of a value, e.g. &lt;code&gt;:t &apos;f&apos;&lt;/code&gt; will give &lt;code&gt;f :: Char&lt;/code&gt;, where
&lt;code&gt;::&lt;/code&gt; can be read as ‘type of’ or ‘has type’. There is also
&lt;a href=&quot;%5Bhoogle.com%5D(https://hoogle.haskell.org)&quot;&gt;Hoogle&lt;/a&gt;.
Though Haskell is able to infer types very well, it is good practice that
top-level definitions are explicitly type-annotated:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- the type declaration doesn&apos;t have to sit on top of the definition either&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Char&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token char string&quot;&gt;&apos;f&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Functions&lt;/h2&gt;
&lt;p&gt;Functions map values to values. Since functions themselves are values
(&lt;a href=&quot;https://en.wikipedia.org/wiki/First-class_citizen&quot;&gt;“first-class citizens”&lt;/a&gt;),
they too have types. &lt;code&gt;f :: p -&gt; p&lt;/code&gt; can be read as “f takes a p and returns a p”.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token hvariable&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;p&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;-- no-op&lt;/span&gt;

&lt;span class=&quot;token hvariable&quot;&gt;g&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Eq&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Bool&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;g&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;-- equality, g is pretty much (==)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The second function &lt;code&gt;g&lt;/code&gt; has a type constraint: it takes two arguments of a type
&lt;code&gt;a&lt;/code&gt; that must have properly defined equality, such that it is of the
typeclass &lt;code&gt;Eq&lt;/code&gt; (more on this later), e.g. &lt;code&gt;Int&lt;/code&gt;. This is parametric
polymorphism, with especially lightweight syntax.&lt;/p&gt;
&lt;p&gt;Note functions in Haskell are automatically
&lt;a href=&quot;https://en.wikipedia.org/wiki/Currying&quot;&gt;curried&lt;/a&gt; (like partial application,
but one argument at at time) — a function that takes two arguments, like &lt;code&gt;g&lt;/code&gt;,
is still a valid function when only one of its arguments is given:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- (g 3) is a function that expects one argument, and returns true if it equals&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;-- 3 and false otherwise. This returns all the items equal to 3 in the list:&lt;/span&gt;
&lt;span class=&quot;token builtin&quot;&gt;filter&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;g&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;-- evaluates to [3,3]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Defining (data) types&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;data&lt;/code&gt; defines an algebraic data type
(&lt;a href=&quot;https://en.wikipedia.org/wiki/Algebraic_data_type&quot;&gt;ADT&lt;/a&gt;):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TrafficLight&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Red&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Yellow&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Green&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;-- the value of type Person may be constructed with: Person &quot;bob&quot; 9&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Person&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Person&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Int&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;On the left is the name of the type, and on the right are data constructors
(or type constructors). Type constructors are like functions: they may take
parameters and are automatically curried. Types may have the same name as
their data constructor(s). Note that type constructors do not have a function
body, they simply construct types.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;newtype&lt;/code&gt; defines new types out of existing data types:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- this is record syntax in Haskell&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ZipList&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ZipList&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;getZipList&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;-- faster (no wrapping/unwrapping overhead) and equivalent:&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;newtype&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ZipList&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ZipList&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;getZipList&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It was made exactly for cases when we want to just take one type and
wrap it in something to present it as another type.
&lt;code&gt;data&lt;/code&gt; can only and should be replaced with &lt;code&gt;newtype&lt;/code&gt; if the type has exactly
one constructor with exactly one field inside it. Contrast this with:&lt;/p&gt;
&lt;h2&gt;Type synonyms&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;type&lt;/code&gt; defines a type alias. Wherever one can be used, the other can
take its place. No data constructor is defined.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;MyStr&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;String&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Typeclasses&lt;/h2&gt;
&lt;p&gt;A typeclass takes a type variable and describes what can be done to it;
typeclasses are like interfaces in languages like Java.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- What does it mean to have well-defined equality?&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;-- It must define the following functions:&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Eq&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Bool&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Bool&lt;/span&gt;
    &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/=&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;-- this is the default implementation for (==)&lt;/span&gt;
    &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/=&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;-- and for (/=), note the indirect recursion.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Typeclasses allow for polymorphism:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- constraints check out: &apos;equal&apos; works for any type a that is an instance of Eq&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;equal&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Eq&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Bool&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;equal&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Types can be made instances of typeclasses:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- How does a TrafficLight have well-defined equality?&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;instance&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Eq&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TrafficLight&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt;
    &lt;span class=&quot;token constant&quot;&gt;Red&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Red&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;True&lt;/span&gt;
    &lt;span class=&quot;token constant&quot;&gt;Green&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Green&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;True&lt;/span&gt;
    &lt;span class=&quot;token constant&quot;&gt;Yellow&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Yellow&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;True&lt;/span&gt;
    &lt;span class=&quot;token hvariable&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;False&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;If you want to see what the instances of a typeclass are, just do &lt;code&gt;:info&lt;/code&gt;
(or &lt;code&gt;:i&lt;/code&gt;) on a typeclass in GHCI. Typing &lt;code&gt;:info Num&lt;/code&gt; will show which
functions the typeclass defines and it will give you a list of the types in
the typeclass. &lt;code&gt;:info&lt;/code&gt; works for types and type constructors too.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Monoids&lt;/h2&gt;
&lt;p&gt;A monoid is a type for which you have a well-defined associative binary
function e.g. &lt;code&gt;(*)&lt;/code&gt; in &lt;code&gt;(1*(2*3) == (1*2)*3)&lt;/code&gt; and a value which acts as an
identity with respect to that function. When something acts as an identity
with respect to a function, it means that when called with that function and
some other value, the result is always equal to that other value:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;1&lt;/code&gt; is the identity with respect to &lt;code&gt;*&lt;/code&gt;
and &lt;code&gt;[]&lt;/code&gt; is the identity with respect to &lt;code&gt;++&lt;/code&gt;.
Any number multiplied by 1 is itself, and appending the empty list to any
list yields the list. So &lt;code&gt;1&lt;/code&gt; and &lt;code&gt;[]&lt;/code&gt; are &lt;code&gt;mempty&lt;/code&gt;s and &lt;code&gt;*&lt;/code&gt; and &lt;code&gt;++&lt;/code&gt; are
&lt;code&gt;mappend&lt;/code&gt;s for the &lt;code&gt;Num&lt;/code&gt; and &lt;code&gt;[]&lt;/code&gt; monoids, respectively.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Monoid&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt;
    &lt;span class=&quot;token hvariable&quot;&gt;mempty&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;-- polymorphic constant: the identity value (e.g. 1 w.r.t *)&lt;/span&gt;
    &lt;span class=&quot;token hvariable&quot;&gt;mappend&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;-- takes two monoid values and returns a third&lt;/span&gt;
    &lt;span class=&quot;token hvariable&quot;&gt;mconcat&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;m&lt;/span&gt;
    &lt;span class=&quot;token hvariable&quot;&gt;mconcat&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;foldr&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;mappend&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;mempty&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;-- default implementation!&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Monoid laws (surrounding a function with backticks (`) allows infix calling):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;mempty `mappend` x = x&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;x `mappend` mempty = x&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;(x `mappend` y) `mappend` z = x `mappend` (y `mappend` z)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Monoid instances:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;lists are monoids, where &lt;code&gt;mempty = []&lt;/code&gt;, &lt;code&gt;mappend = (++)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;numbers can be monoids in multiple ways with &lt;code&gt;0&lt;/code&gt; and &lt;code&gt;+&lt;/code&gt;, and &lt;code&gt;1&lt;/code&gt; and &lt;code&gt;*&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;booleans can be monoids in two ways with &lt;code&gt;False&lt;/code&gt; and &lt;code&gt;OR&lt;/code&gt; (&lt;code&gt;newtype&lt;/code&gt;‘d as &lt;code&gt;Any&lt;/code&gt;
in &lt;code&gt;Data.Monoid&lt;/code&gt;), and &lt;code&gt;True&lt;/code&gt; and &lt;code&gt;AND&lt;/code&gt;
(&lt;code&gt;newtype&lt;/code&gt;‘d as &lt;code&gt;All&lt;/code&gt; in &lt;code&gt;Data.Monoid&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Functors&lt;/h2&gt;
&lt;p&gt;What can I map functions over? I can map functions over a
“computational context”.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;functors are things that can be mapped over (e.g. lists, Maybes).&lt;/li&gt;
&lt;li&gt;functors are instances of the typeclass &lt;code&gt;Functor&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fmap&lt;/code&gt; works like &lt;code&gt;map&lt;/code&gt;, but is more general (works on all functors, not
just lists).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;(&amp;#x3C;$&gt;)&lt;/code&gt; is an infix synonym of &lt;code&gt;fmap&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;“normal” functors support mapping “normal” functions over them.
“normal” here meaning dealing with plain old values, i.e. non-monadic
values.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Technically any type can be defined to be a Functor, whether it makes sense
is a separate issue. Examples of where it makes sense:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mapping a function over a list of &lt;code&gt;a&lt;/code&gt;s means applying the function to each
&lt;code&gt;a&lt;/code&gt; in the list. The computational context here is the “repetition”.&lt;/li&gt;
&lt;li&gt;mapping a function over a &lt;code&gt;Maybe a&lt;/code&gt;, means applying the function to the &lt;code&gt;a&lt;/code&gt;
if it’s there, or evaluating to &lt;code&gt;Nothing&lt;/code&gt; if it’s not.
The computational context here is the “optionality”.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;A &lt;code&gt;Maybe a&lt;/code&gt; is either a &lt;code&gt;Just a&lt;/code&gt; or a &lt;code&gt;Nothing&lt;/code&gt; — it has two data
constructors.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- these two expressions are equivalent, they both evaluate to [4,5,6,7,8]&lt;/span&gt;
&lt;span class=&quot;token builtin&quot;&gt;fmap&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;$&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;-- a Maybe supports mapping (+3), a normal function as follows:&lt;/span&gt;
&lt;span class=&quot;token builtin&quot;&gt;fmap&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;-- evaluates to (Just 8)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;$&gt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Nothing&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;-- evaluates to Nothing&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Note how the values end up inside the context (wrapped in the List/Maybe).
In general there is not a nice function you can use to recover the &lt;code&gt;a&lt;/code&gt; once
it is inside a functor (or an &lt;code&gt;Applicative&lt;/code&gt;, or a &lt;code&gt;Monad&lt;/code&gt;). That is,
&lt;code&gt;Functor&lt;/code&gt; does not require its instances to define what it means to unwrap
a the context to return the value.&lt;/p&gt;
&lt;p&gt;This is by design. For instance, unwrapping a &lt;code&gt;Maybe&lt;/code&gt; to try and get the value
inside of it doesn’t always make sense: what would &lt;code&gt;Nothing&lt;/code&gt; unwrap into?
&lt;strong&gt;… NullPointerException&lt;/strong&gt;. In the case of the &lt;code&gt;IO&lt;/code&gt; monad, whose
computational context I think of as “impurity”, it is even more finicky to
extract a pure value from a monadic one. In any case you will invite
runtime errors.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Anyway, here are the Functor laws:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;fmap id = id&lt;/code&gt;, where &lt;code&gt;id&lt;/code&gt; is &lt;code&gt;\x -&gt; x&lt;/code&gt;: “return what was passed”&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fmap (f . g) = fmap f . fmap g&lt;/code&gt;, or equivalently, &lt;br&gt;
&lt;code&gt;fmap (f . g) F = fmap f (fmap g F)&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The &lt;code&gt;\x y -&gt; x + y&lt;/code&gt; syntax is a lambda expression, here it defines an
anonymous function that takes two arguments x and y and returns their sum.
The &lt;code&gt;.&lt;/code&gt; syntax is
&lt;a href=&quot;https://en.wikipedia.org/wiki/Function_composition&quot;&gt;function composition&lt;/a&gt; as
in mathematics: &lt;code&gt;(f . g) x&lt;/code&gt; is equivalent to &lt;code&gt;f (g x)&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Applicative functors&lt;/h2&gt;
&lt;p&gt;What if I want to map normal functions in a functor over another functor:
“to reach into the context, compute, and return the value in that context”?
Those functors must be applicative.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;applicative values are values with “added context”, e.g. &lt;code&gt;Just 5&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;applicative functors support mapping functions inside functors over them&lt;/li&gt;
&lt;li&gt;applicative functors are functors, and they are instances of the
&lt;code&gt;Applicative&lt;/code&gt; typeclass. It defines &lt;code&gt;pure&lt;/code&gt; and &lt;code&gt;(&amp;#x3C;*&gt;)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pure&lt;/code&gt; takes a value and returns that value in the applicative functor
(“wrapped in the minimal context”)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;#x3C;*&gt;&lt;/code&gt; (infix) takes a functor with a function in it and another functor,
and extracts the function from the first functor and maps it over the
second one.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- mapping functions in a functor over values in a functor&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;-- (the same type of functor!)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;*&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;-- [4,5,6,7,0,-1,-2,-3,1,4,9,16]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;*&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;-- [False, False, True, False]&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;*&gt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Nothing&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;-- Nothing&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;*&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;-- Just (-4)&lt;/span&gt;
&lt;span class=&quot;token constant&quot;&gt;Nothing&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;*&gt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Nothing&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;-- Nothing&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Applicative functor laws (this is where the analogies fall apart):&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;pure id &amp;#x3C;*&gt; v = v&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pure f &amp;#x3C;*&gt; pure x = pure (f x)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;u &amp;#x3C;*&gt; pure y = pure ($ y) &amp;#x3C;*&gt; u&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pure (.) &amp;#x3C;*&gt; u &amp;#x3C;*&gt; v &amp;#x3C;*&gt; w = u &amp;#x3C;*&gt; (v &amp;#x3C;*&gt; w)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Monads&lt;/h2&gt;
&lt;p&gt;What if I have a value in a context, &lt;code&gt;m a&lt;/code&gt;, and want apply to it a function
that takes a normal &lt;code&gt;a&lt;/code&gt; and returns a value in that context?
How do you apply a function of type &lt;code&gt;a -&gt; m b&lt;/code&gt; to a value of type &lt;code&gt;m a&lt;/code&gt;?&lt;/p&gt;
&lt;p&gt;Another take on monads from a similarly great book:
&lt;a href=&quot;http://book.realworldhaskell.org/read/monads.html&quot;&gt;a programmable semicolon&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;monads are just applicative functors that support &lt;code&gt;&gt;&gt;=&lt;/code&gt; (read as “bind”)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&gt;&gt;=&lt;/code&gt; is like function application, only instead of taking a normal value
and feeding it to a normal function, it takes a monadic value (that is,
a value with a context) and feeds it to a function that takes a normal
value but returns a monadic value.&lt;/li&gt;
&lt;li&gt;a &lt;code&gt;Monad&lt;/code&gt;’s &lt;code&gt;return&lt;/code&gt; is the same as an &lt;code&gt;Applicative&lt;/code&gt;’s &lt;code&gt;pure&lt;/code&gt;,
just a different name.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;The most useful monad: the &lt;code&gt;IO&lt;/code&gt; monad (again, it is also an Applicative and a
Functor). Sequencing operations one after the other (functions) is possible
in the IO monad. This looks like imperative programming and is indeed necessary
when dealing with IO operations, which are inherently
&lt;a href=&quot;https://en.wikipedia.org/wiki/Functional_purity&quot;&gt;impure&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In a way, since the fact that potential side effects from the &lt;code&gt;IO&lt;/code&gt; operations
are clearly in laid out in the type system, they are not really side effects,
and this makes the whole program easier to reason with. It is said that this
makes Haskell a purely functional language still.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- we can finally write Hello World :)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;-- f &gt;&gt; g is the same as f &gt;&gt;= \_ -&gt; g&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;IO&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;putStr&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hello&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
        &lt;span class=&quot;token builtin&quot;&gt;putStr&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot; ...World&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token builtin&quot;&gt;putStrLn&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;in Haskell&quot;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;-- demonstrating the I in IO, as well as monad syntax:&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;-- a function that fetches user input, prints it out and returns it.&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;IO&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;String&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;putStrLn&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Who?&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token builtin&quot;&gt;getLine&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
            &lt;span class=&quot;token builtin&quot;&gt;putStrLn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Oh Hello &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;
                &lt;span class=&quot;token builtin&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;name&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The distinction with applicative functors is very slight.
&lt;strong&gt;Most common functors are applicative and are monads&lt;/strong&gt;, e.g.
&lt;code&gt;[]&lt;/code&gt;, &lt;code&gt;Maybe&lt;/code&gt;, &lt;code&gt;State&lt;/code&gt;, &lt;code&gt;IO&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikibooks.org/wiki/Haskell/do_notation&quot;&gt;do-blocks&lt;/a&gt;
are syntactic sugar to deal with monads, to do away with nesting. See below.&lt;/p&gt;
&lt;h2&gt;Syntax&lt;/h2&gt;
&lt;p&gt;To make a point about the syntax, all of these functions are exactly equivalent:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- list comprehension&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;-- lists get their own special shorthand syntax, comprehensions like in Python.&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;e1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;e1&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;lst&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;lst&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;lst&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;-- do-block: &quot;implicit&quot; (&gt;&gt;=)&apos;s&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;e2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;e2&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;lst&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;lst&lt;/span&gt;
    &lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;lst&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;-- sugarless: binding monadic operations explicitly&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;e3&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;e3&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;lst&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt;
    &lt;span class=&quot;token hvariable&quot;&gt;lst&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
        &lt;span class=&quot;token hvariable&quot;&gt;lst&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
            &lt;span class=&quot;token hvariable&quot;&gt;pure&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;-- maximum golf: remember (&amp;lt;*&gt;) :: Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;-- implicitly the &amp;lt;$&gt; bit is evaluated first to get a list of functions.&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;e4&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;e4&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;lst&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;$&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;lst&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;*&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;lst&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Types and instances of functors et al&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;map :: (a -&gt; b) -&gt; [a] -&gt; [b]&lt;/code&gt;, literally &lt;code&gt;fmap&lt;/code&gt; but just for lists&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fmap :: (a -&gt; b) -&gt; f a -&gt; f b&lt;/code&gt;, where f is a functor :@1&lt;/li&gt;
&lt;li&gt;&lt;code&gt;(&amp;#x3C;$&gt;) :: (a -&gt; b) -&gt; f a -&gt; f b&lt;/code&gt;, where f is a functor&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pure :: a -&gt; f a&lt;/code&gt;, where f is an applicative functor&lt;/li&gt;
&lt;li&gt;&lt;code&gt;(&amp;#x3C;*&gt;) :: f (a -&gt; b) -&gt; f a -&gt; f b&lt;/code&gt;, where f is an applicative functor&lt;/li&gt;
&lt;li&gt;&lt;code&gt;(&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b&lt;/code&gt;, where m is a monad&lt;/li&gt;
&lt;li&gt;&lt;code&gt;(&gt;&gt;) :: m a -&gt; m b -&gt; m b&lt;/code&gt;, where m is a monad&lt;/li&gt;
&lt;li&gt;&lt;code&gt;return :: a -&gt; m a&lt;/code&gt;, where m is a monad&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://wiki.haskell.org/Lifting&quot;&gt;“lifting”&lt;/a&gt;:
&lt;code&gt;(-&gt;)&lt;/code&gt; is right-applicative, so
&lt;code&gt;fmap :: (a -&gt; b) -&gt; (f a -&gt; f b)&lt;/code&gt; is equivalent, and emphasises the “lift”,
likewise for &lt;code&gt;pure&lt;/code&gt; et al.&lt;/p&gt;
&lt;p&gt;this is how lists are instances of Functor:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- [] here is A TYPE CONSTRUCTOR, i.e. the f in Functor f&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;-- not the literal for an empty list.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;instance&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Functor&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;fmap&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;map&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and Maybe:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;instance&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Functor&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Maybe&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;fmap&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;fmap&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Nothing&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Nothing&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and Either:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Either&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Left&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Right&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;b&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;instance&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Functor&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Either&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;fmap&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Right&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Right&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;fmap&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Left&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Left&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;Either a&lt;/code&gt; is a type constructor that takes 1 parameter, which is what the
Functor typeclass expects.&lt;/p&gt;
&lt;p&gt;Functions are in fact monads too:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;instance&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Applicative&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt;
    &lt;span class=&quot;token hvariable&quot;&gt;pure&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token hvariable&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;*&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;g&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token hvariable&quot;&gt;g&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token hvariable&quot;&gt;ghci&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;$&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;*&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;508&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;In action&lt;/h2&gt;
&lt;p&gt;Golfing once again…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- equivalently:&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;-- getZipList $ fmap (+) (ZipList [1,2,3]) &amp;lt;*&gt; (ZipList [100,10,20])&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;ghci&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;getZipList&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;$&gt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ZipList&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;*&gt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ZipList&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;101&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;-- implicitly, this is (fmap &amp;lt;$&gt; [(+2,(*2))]) &amp;lt;*&gt; [Just 10, Just 20] :@1&lt;/span&gt;
&lt;span class=&quot;token hvariable&quot;&gt;ghci&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;fmap&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;$&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;*&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token hvariable&quot;&gt;ghci&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;fmap&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;$&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Nothing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Nothing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Just&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Class constraints&lt;/h2&gt;
&lt;p&gt;Class constraints can appear in (type)class declarations vs instance
declarations, as in &lt;code&gt;(Eq m) =&gt; Eq (classOrInstanceName m)&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In class declarations, they are used for making a typeclass a subclass of
another typeclass.&lt;/li&gt;
&lt;li&gt;In instance declarations, they are used to express requirements about the
contents of some type.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For instance, we might require the contents of a Maybe, which is a concrete
type to also be part of the Eq typeclass. Note the Maybe is a type constructor.&lt;/p&gt;
&lt;h2&gt;Kinds&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Kind_(type_theory)&quot;&gt;Few languages&lt;/a&gt;
have type systems that allow access to higher-kinded types (e.g. Monads).
Haskell lets you see the kinds of types too. I have yet to realise where
this might be useful.&lt;/p&gt;
&lt;p&gt;Kinds are to types what types are to values. Find out kind of a type with
&lt;code&gt;:k&lt;/code&gt; in GHCi.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;*&lt;/code&gt; means concrete type:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Int :: *&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Maybe :: * -&gt; *&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Maybe Int :: *&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Either :: * -&gt; * -&gt; *&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I haven’t quite grasped this, but it’s interesting regardless:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;haskell&quot;&gt;&lt;pre class=&quot;language-haskell&quot;&gt;&lt;code class=&quot;language-haskell&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Tofu&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt;
    &lt;span class=&quot;token hvariable&quot;&gt;tofu&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token hvariable&quot;&gt;j&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If &lt;code&gt;t&lt;/code&gt; is an instance of &lt;code&gt;Tofu&lt;/code&gt;, what would its kind be?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;j a&lt;/code&gt; is the type of the value of the first parameter of &lt;code&gt;tofu&lt;/code&gt;, so
its kind must be &lt;code&gt;*&lt;/code&gt;, i.e. it is a concrete type.&lt;/li&gt;
&lt;li&gt;Assuming &lt;code&gt;a&lt;/code&gt; is of kind &lt;code&gt;*&lt;/code&gt;, &lt;code&gt;j&lt;/code&gt; has kind &lt;code&gt;* -&gt; *&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;t a j&lt;/code&gt; must be a concrete type, and since it takes two types &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;j&lt;/code&gt;,
whose kinds we inferred above, &lt;code&gt;t&lt;/code&gt; has kind &lt;code&gt;* -&gt; (* -&gt; *) -&gt; *&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So, &lt;code&gt;t&lt;/code&gt; takes a concrete type &lt;code&gt;a&lt;/code&gt;, a type constructor &lt;code&gt;j&lt;/code&gt; that takes a concrete
type, and produces a concrete type.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Connect 4 Pancake]]></title><description><![CDATA[Submission Github A Windows 10 executable (no installation needed) is available from both
links. Otherwise, building from source is an…]]></description><link>https://jonjau.github.io/connect-4-pancake/</link><guid isPermaLink="false">https://jonjau.github.io/connect-4-pancake/</guid><pubDate>Sat, 01 Aug 2020 04:12:16 GMT</pubDate><content:encoded>&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://jhan1.itch.io/connect-4-pancake&quot;&gt;Submission&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jonjau/connect-4-pancake&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A Windows 10 executable (no installation needed) is available from both
links. Otherwise, building from source is an option. Additional details are
on the Github repo.&lt;/p&gt;
&lt;h2&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Themed GUI&lt;/li&gt;
&lt;li&gt;(loud!) background music&lt;/li&gt;
&lt;li&gt;Easy/hard AI opponents&lt;/li&gt;
&lt;li&gt;Fully animated board&lt;/li&gt;
&lt;li&gt;Customisable board sizes&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Screenshots&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/v2/static/48703e3cbf2b6a4f4411ea0e9ae193cf/f53a0/c4p1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAADeklEQVQ4yyWSaU9bZxSE77/qh6pV2qIu6pduxMa7DcRmMRDCGjC7bfDCNdhht8FA2SnG7CQxEIjBEGxsMJTQVElU0apSt0hpG6nq0wuV3tGMjubMqyONcHoZ4eVP5/xy+Qx4I71X8NfvvP75By7SaY4PE5wlEpwexjlJpEgdpvjx+XfwWvK9+VPa+Zd//v6DV79d8uLXJMLjbQPbKyXEvnGTDvtIjjpZ8VQz1VrKureFjXYbG94eNvp62HVUsmkvYE5sJDHeweFYJ6nQAKchFzvLVYTiZoTzkQzi3Tc4dmXwbdvbJB0ZHLW8xYnzA152fsKZqOfCU8SLkSKetZtItn7K9+JHPHW/R8LxIcet70r6fc473yHddwNhYVfPzFI+oYCVyGQ7i72N3B/zcBDuZUYsY7y/g5Wgi3joHkGfjV6HhUhfFbthP6tDbh5MdLIq7YZmKpi7L0cIxozMx7s42I+xvxdla3WJeCzK85MDvE4rzQ43HV4fvYFhmux2LPW1HEaWuDhNseZv4SR1zKOtKDvpNfw7eQjWewpiO7PsbayxNd1F2NdMIrrNWSyCpaKQHEMWt3JU12yU2JSj5NHCFIkH06y6DaR21oksz/L0aI/O/lyE2QEnR49nWV8OMu82MWXLxW+vJuSpodykJUejIM+gJi9bwy29CqNOybC1lGCNipnaj5mxGwmPeznaD7M62Y2wPOxgwlmG/242tpo7VBYYqcg3YC83opLLkMuzUCmV11AoFMhuyshTZWJW3+SOXk59mZmuxhIGK1TMDosIFpMcrUxGvk46S/YlXul3220D1erPyVbLyZJnIpf9HyyXtEaTRZVBRn12JrXazyhWf0FhtpoCvZICbSaCsyKXcnM+lrJCGiqLcNUVIzaU0dFUjjHXgFKlRKlWo9ZqUUharVFju1uCp7EMl6WEliozdeVmakoLqS4yIcwPlONrb6TfVsOEVOQJr43xzmZGpfIadBq+kk7USmE6nQ6FUoVaCu+x1zLlu/JZmfRaGREb6GqtI9BrQejvKkJsLma6vY7oqJvDSQ9Pxj3sBB3Yb+uxFut4GGhjc8jJxqDjGrExkYNxkScTHmJfS93tamLYVY1XLEIYEZuJTvawOdpBbKaH1MIgyXk/x4tDJOYHSIYDHC8EOFkclGYB0ktD17MrHEm+K34YFEmE/Mx1t/EfGyvKdh3ZszMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;c4p1&quot;
        title=&quot;c4p1&quot;
        src=&quot;/v2/static/48703e3cbf2b6a4f4411ea0e9ae193cf/f058b/c4p1.png&quot;
        srcset=&quot;/v2/static/48703e3cbf2b6a4f4411ea0e9ae193cf/c26ae/c4p1.png 158w,
/v2/static/48703e3cbf2b6a4f4411ea0e9ae193cf/6bdcf/c4p1.png 315w,
/v2/static/48703e3cbf2b6a4f4411ea0e9ae193cf/f058b/c4p1.png 630w,
/v2/static/48703e3cbf2b6a4f4411ea0e9ae193cf/40601/c4p1.png 945w,
/v2/static/48703e3cbf2b6a4f4411ea0e9ae193cf/f53a0/c4p1.png 1062w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/v2/static/62aac2771e198e63dfb1eed9336f7a38/77672/c4p2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAADrklEQVQ4yx2Qa1DUBRTF/9NMn/rU+KFpGifHsobXwq4gLouwIO9YCRAFhV32D7uwi8v7EUmIEAzvhwgWJIzykISc4c0SDqhM4iQKWRTV5NADFKggtNXKfv3pw5m5954z5957hIeLd1j75UdWvllgbXmJjZ+WeLKxxtP1h/y1uc6TtQfYfl/DtrqC7bdVnv4qYZuXatv6A/5clbCtkfSPJQh/WIdh+R79FcUM9HXQ1VRHpJ8nEWoP/N1d6K05zexYNzGBasTDoYR7K4k8qCJIqaAyLYl/V+7zeHGOrduTPJq7jrA5Nojth1tM97Tw9eINZm4O4q2Ss2f3Tp5/TqAq18xE34fs2vky9nt28cpLO3h996vsePEF8lL1/GNbYuvneR4tXGfr7hTChnWQgeo8jN7uxHspSA9REupkR0bIAYLt3iQn1I+CWA3KvTKaKk6hjYnitTfskMld8PVSEh0VSn9zEc++tbI5d1V6eWKA3PAgtApHklSuxLu6YPHeh87VmRPSEtFVht7Xk5zMNM411pOdlYn6oB/+wYGEv63hSHQUI63FPPuun835UYT7V7rICgsgQcrL6OmKuF9O8gHJeJ/8/357fkITSLrFhNmYgBgfh+aQhkNhIYh6LdmZZimuSv5e/ITNL4YQbrWfoeioH9q9zpKZAouPO9EuTmT4KYmTrk10d6ZEfwSL2URSgojRYCDmaAQppgQKTxVhyX6HyY4a6cIBtr4cR/i8swVTgA8GpRyzlxvHXBzJCVQR4WBPhr9kKncgMyqM801llOUlcjJNi17UYTDqMZuN6MR4rrRUsDz5Ad+PtCFMd7ZxNiWWww4OvK+RMZTpTLi9A3nBKo4rXBAVMpozdMzNDGDtrKS3wUJ+YTGFBblkpZukDCPpaa1joftdZtvLEYYaS0n2U2Fwl2MKV6OP9SbJQ0mszImQEDWeb6nJzYnnq9kpRnvbmBk8x93PxmgtTaXErCEuSMb4hTLmu8uY62xAuFh+kpQAL445OZIS6EZTqhsfia4E+OznPYMHVUYFF8qPc3t6iKGPW7hYlsjlpnyGe87S2VKKQRtG+2kdHfka7nTWI4zUmzifHkFBpC8NWg/u1ai5Vu5PliWU4ZIA5kpV3GyMZqq7lMGmDKYuVdBbl8bl6mRuXCqhqyKZvmoT1oZkRqr1CBMNIhNnRK41GxhvSGCoxoC1zsjVWj1jdQaGa42M1oh8WqvDWh3HeHUsY1WxjFbFMVGnY7xGy5g0t27ztfH8BxFliaYiXngdAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;c4p2&quot;
        title=&quot;c4p2&quot;
        src=&quot;/v2/static/62aac2771e198e63dfb1eed9336f7a38/f058b/c4p2.png&quot;
        srcset=&quot;/v2/static/62aac2771e198e63dfb1eed9336f7a38/c26ae/c4p2.png 158w,
/v2/static/62aac2771e198e63dfb1eed9336f7a38/6bdcf/c4p2.png 315w,
/v2/static/62aac2771e198e63dfb1eed9336f7a38/f058b/c4p2.png 630w,
/v2/static/62aac2771e198e63dfb1eed9336f7a38/40601/c4p2.png 945w,
/v2/static/62aac2771e198e63dfb1eed9336f7a38/77672/c4p2.png 1060w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Cifero]]></title><description><![CDATA[Github 64-bit Windows 10 / Linux executables are available on the Github page. Cifero is a Python GUI (PyQt5) program for (esoteric…]]></description><link>https://jonjau.github.io/cifero/</link><guid isPermaLink="false">https://jonjau.github.io/cifero/</guid><pubDate>Thu, 01 Nov 2018 02:14:30 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/jonjau/cifero&quot;&gt;Github&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;64-bit Windows 10 / Linux executables are available on the Github page.&lt;/p&gt;
&lt;p&gt;Cifero is a Python GUI (PyQt5) program for (esoteric)
phonetic transliteration and syllable separation. Transliterates sentences to
and from: dictionary English, IPA, a “typable” IPA, a “readable” IPA, and a
phonetic cipher. Currently punctuation is a problem.&lt;/p&gt;
&lt;p&gt;The dictionary used is the
&lt;a href=&quot;http://www.speech.cs.cmu.edu/cgi-bin/cmudict&quot;&gt;CMU pronouncing dictionary&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This was my first non-trivial program, after
&lt;a href=&quot;https://www.amazon.com/Programming-Principles-Practice-Using-C/dp/0321543726&quot;&gt;reading&lt;/a&gt;
&lt;a href=&quot;https://nostarch.com/automatestuff2&quot;&gt;a&lt;/a&gt;
&lt;a href=&quot;https://www.amazon.com/Fluent-Python-Concise-Effective-Programming/dp/1491946008&quot;&gt;few&lt;/a&gt;
&lt;a href=&quot;https://buildmedia.readthedocs.org/media/pdf/howtothink/latest/howtothink.pdf&quot;&gt;books&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Keysmith&lt;/h2&gt;
&lt;p&gt;Initially, I wanted to do this project in pure Python with Python libraries.
This meant working with Tkinter, which was low-level in the sense that there
weren’t many UI elements you get for free. The UI layout management got really
messy, so I gave up on allowing resizable windows, and hardcoded most of the
layout. This corner cutting ended up making every additional change very
fiddly. The program itself was functional, but it was impossible to polish
(though clearly, it’s not polished even now).&lt;/p&gt;
&lt;p&gt;This iteration of the program was called Keysmith, and I imagined distributing
it would involve a lot of hacks, so I moved on and thought about rewriting the
interface in some other framework, something more “drag-and-drop”.&lt;/p&gt;
&lt;p&gt;I ended up looking into Qt, a well-known GUI framework that claimed to be
cross-platform. I did a
&lt;a href=&quot;https://github.com/jonjau/countdown&quot;&gt;sample C++ project&lt;/a&gt;
in it and redesigned the Keysmith interface in QtDesigner. What I saw was what
I got, and what I got was resizable windows, plus a two-click conversion into
Python code, via PyQt5. I tried running it in an Ubuntu VM and sure enough, it
looked like it belonged there — cross-platform indeed.&lt;/p&gt;
&lt;p&gt;This one I called Cifero, which sounds like what the word for “cipher” would
be in Esperanto (I don’t think it’s cifero).&lt;/p&gt;
&lt;h2&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Cross-platform Qt GUI, designed in QtDesigner&lt;/li&gt;
&lt;li&gt;Regex-based syllable separation of English words&lt;/li&gt;
&lt;li&gt;Phonetic transliteration of English words in IPA or a more pronounceable
form of it&lt;/li&gt;
&lt;li&gt;Transcription to and from IPA and my esoteric writing systems&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Screenshots&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/v2/static/84b61ef255fb78dbd67cb8967599b99d/9a8cd/keysmith.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.291139240506325%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABUBAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAFxybQToAr/xAAbEAABBAMAAAAAAAAAAAAAAAABAAIEMQMQE//aAAgBAQABBQKOSdCouToE2v/EABYRAAMAAAAAAAAAAAAAAAAAAAIQMf/aAAgBAwEBPwEYv//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABsQAAIBBQAAAAAAAAAAAAAAAAEQAAIRITFx/9oACAEBAAY/AjmbVVwBx//EABwQAQACAgMBAAAAAAAAAAAAAAEAESExEGGBkf/aAAgBAQABPyEm+XbEayPsronkZVImnJ//2gAMAwEAAgADAAAAEGAP/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/EChF2f/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQADAAIDAAAAAAAAAAAAAAEAESExQWFxsf/aAAgBAQABPxBsdCV6YRZPM1ahfayLgjGF48wp6n0n/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;keysmith&quot;
        title=&quot;keysmith&quot;
        src=&quot;/v2/static/84b61ef255fb78dbd67cb8967599b99d/828fb/keysmith.jpg&quot;
        srcset=&quot;/v2/static/84b61ef255fb78dbd67cb8967599b99d/ff44c/keysmith.jpg 158w,
/v2/static/84b61ef255fb78dbd67cb8967599b99d/a6688/keysmith.jpg 315w,
/v2/static/84b61ef255fb78dbd67cb8967599b99d/828fb/keysmith.jpg 630w,
/v2/static/84b61ef255fb78dbd67cb8967599b99d/0ede0/keysmith.jpg 945w,
/v2/static/84b61ef255fb78dbd67cb8967599b99d/9a8cd/keysmith.jpg 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/v2/static/ad1cd7dd8e583dc515cbba415222bdd6/22bc6/cifero1.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.0253164556962%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdlRQn//xAAXEAEBAQEAAAAAAAAAAAAAAAAAARES/9oACAEBAAEFApW1HVa1/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAERIaH/2gAIAQEAAT8hbZeGrgzm00KRR//aAAwDAQACAAMAAAAQUz//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEBAQACAwAAAAAAAAAAAAABEQAhMUFhkf/aAAgBAQABPxCFUMZFIM6yem+jEBx8wRjr+d//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cifero1&quot;
        title=&quot;cifero1&quot;
        src=&quot;/v2/static/ad1cd7dd8e583dc515cbba415222bdd6/828fb/cifero1.jpg&quot;
        srcset=&quot;/v2/static/ad1cd7dd8e583dc515cbba415222bdd6/ff44c/cifero1.jpg 158w,
/v2/static/ad1cd7dd8e583dc515cbba415222bdd6/a6688/cifero1.jpg 315w,
/v2/static/ad1cd7dd8e583dc515cbba415222bdd6/828fb/cifero1.jpg 630w,
/v2/static/ad1cd7dd8e583dc515cbba415222bdd6/22bc6/cifero1.jpg 782w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/v2/static/4bc5dfaf89204817ff52905edd459335/b1591/cifero2.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.39240506329114%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAezNUKP/xAAZEAACAwEAAAAAAAAAAAAAAAAAARARITH/2gAIAQEAAQUC0di5P//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABUQAQEAAAAAAAAAAAAAAAAAACBB/9oACAEBAAY/Aqv/xAAaEAACAwEBAAAAAAAAAAAAAAAAAREhQTGB/9oACAEBAAE/IVZYGR6XCbnpB6f/2gAMAwEAAgADAAAAEAAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGRABAAMBAQAAAAAAAAAAAAAAAQARIXGB/9oACAEBAAE/EMxBxFJY1qJBVX2PBeolbdZpgp//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cifero2&quot;
        title=&quot;cifero2&quot;
        src=&quot;/v2/static/4bc5dfaf89204817ff52905edd459335/828fb/cifero2.jpg&quot;
        srcset=&quot;/v2/static/4bc5dfaf89204817ff52905edd459335/ff44c/cifero2.jpg 158w,
/v2/static/4bc5dfaf89204817ff52905edd459335/a6688/cifero2.jpg 315w,
/v2/static/4bc5dfaf89204817ff52905edd459335/828fb/cifero2.jpg 630w,
/v2/static/4bc5dfaf89204817ff52905edd459335/b1591/cifero2.jpg 790w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/v2/static/6acf3d412e54be5a7d36fb5ac212a199/0a151/cifero5.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.75949367088608%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHclWxCD//EABYQAQEBAAAAAAAAAAAAAAAAABARAP/aAAgBAQABBQJup//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABUQAQEAAAAAAAAAAAAAAAAAACAx/9oACAEBAAY/Aqv/xAAXEAEBAQEAAAAAAAAAAAAAAAABABFB/9oACAEBAAE/IQSctYS5ah0v/9oADAMBAAIAAwAAABCzz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAAMBAQEBAAAAAAAAAAAAAAABESExUXH/2gAIAQEAAT8Q1G07IPGe89GqR36NDSSGD5iIFSP/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cifero5&quot;
        title=&quot;cifero5&quot;
        src=&quot;/v2/static/6acf3d412e54be5a7d36fb5ac212a199/828fb/cifero5.jpg&quot;
        srcset=&quot;/v2/static/6acf3d412e54be5a7d36fb5ac212a199/ff44c/cifero5.jpg 158w,
/v2/static/6acf3d412e54be5a7d36fb5ac212a199/a6688/cifero5.jpg 315w,
/v2/static/6acf3d412e54be5a7d36fb5ac212a199/828fb/cifero5.jpg 630w,
/v2/static/6acf3d412e54be5a7d36fb5ac212a199/0a151/cifero5.jpg 866w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Sample text&lt;/h2&gt;
&lt;p&gt;Here’s the sample text (mostly obscure loanwords):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;_&quot;&gt;&lt;pre class=&quot;language-_&quot;&gt;&lt;code class=&quot;language-_&quot;&gt;Hello World, look at this syllable separation:
archetypes of cinematography and comfort colonel highfalutin. Are those shy
eurasian footwear, cowboy chaps or jolly earthmoving headgear?

lieutenant draught zeitgeist worcestershire isthmus often hierarchical
lingerie chassis cajole maitre bourgeoisie corps renaissance jewelry
apartheid orangutan pedagogical drawer choir colloquial iroquois debauchery
epitome phlegmatic aficionado caballero taekwondo agitprop apparatchik
genghis khan caesar abscond&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item></channel></rss>